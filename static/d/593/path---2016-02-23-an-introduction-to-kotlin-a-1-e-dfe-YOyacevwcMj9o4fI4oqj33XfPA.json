{"data":{"site":{"siteMetadata":{"title":"Mike Plummer","author":"Mike Plummer"}},"markdownRemark":{"id":"448e44c0-a91e-5b58-aeb7-3837be7993f7","html":"<blockquote>\n<p><em>This was originally posted at <a href=\"https://objectpartners.com/2016/02/23/an-introduction-to-kotlin/\">Object Partners</a></em></p>\n</blockquote>\n<p><a href=\"https://kotlinlang.org/\">Kotlin</a> is a relatively new language that keeps the good parts of Java while eliminating boilerplate and encouraging better Object Oriented programming style while still allowing a Functional paradigm. Best of all, it’s 100% Java-compatible which allows you to mix it with Java, Groovy, or any other Java-bytecode language. Kotlin is similar in many ways to Groovy by handling a lot of the more mundane aspects of coding in Java but unlike Groovy, which took a Dynamic Typing approach, Kotlin doubled-down on Static typing to help eliminate many of the common annoyances in Java.</p>\n<h1>Kotlin Features</h1>\n<p>While Kotlin’s entire feature list is far too expansive to discuss in this post I would like to point out some of my favorites coming from a Java background. If you want to dive straight into some Kotlin code there is an <a href=\"https://github.com/mike-plummer/KotlinCalendar\">example program out on GitHub</a> that demonstrates most of the features discussed below.</p>\n<h2>Null Safety and Immutability</h2>\n<p>By default all variables are enforced as non-nullable by the compiler unless explicitly defined otherwise. By enforcing nullability constraints the compiler can automatically guard you from potential NullPointerExceptions and will, in fact, generate an error if you attempt to write unsafe code.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> myNonNullVariable<span class=\"token operator\">:</span> ComplexObject <span class=\"token operator\">=</span> <span class=\"token function\">ComplexObject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">// Declare non-nullable variable</span>\nmyNonNullVariable <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>                              <span class=\"token comment\">// Compilation error, cannot assign null to this variable</span>\n\n<span class=\"token keyword\">val</span> myNullableVariable<span class=\"token operator\">:</span> ComplexObject<span class=\"token operator\">?</span>                <span class=\"token comment\">// Declare a variable as nullable</span>\nprintln myNullableVariable<span class=\"token punctuation\">.</span><span class=\"token function\">getFieldA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>                <span class=\"token comment\">// Compilation error since variable could be null here</span>\nprintln myNullableVariable<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">getFieldA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>               <span class=\"token comment\">// Use a safe call to guard against NullPointerException</span>\n                                                      <span class=\"token comment\">// If variable is null then safe call will return 'null'</span></code></pre></div>\n<p>This null-checking extends throughout Kotlin syntax, even into cast operations:</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> variable<span class=\"token operator\">:</span> Any <span class=\"token operator\">=</span> <span class=\"token string\">\"A string value\"</span>\n<span class=\"token keyword\">val</span> stringVariable <span class=\"token operator\">=</span> variable <span class=\"token keyword\">as</span> String                        <span class=\"token comment\">// Unsafe cast that will succeed - note lack of nullability on types</span>\n\n<span class=\"token keyword\">val</span> nullVariable<span class=\"token operator\">:</span> Any<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n<span class=\"token keyword\">val</span> nullableStringVariable<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> nullVariable <span class=\"token keyword\">as</span> String<span class=\"token operator\">?</span>  <span class=\"token comment\">// Unsafe cast that will succeed - note that both sides must specify nullability</span>\n<span class=\"token keyword\">val</span> nullableStringVariable2<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> nullVariable <span class=\"token keyword\">as</span><span class=\"token operator\">?</span> String  <span class=\"token comment\">// The line above can also be done using the 'safe cast' operator</span>\n<span class=\"token keyword\">val</span> invalidCast <span class=\"token operator\">=</span> stringVariable <span class=\"token keyword\">as</span> List                       <span class=\"token comment\">// Guaranteed to throw a ClassCastException</span></code></pre></div>\n<p>Kotlin also provides multiple mechanisms for declaring variables. When using the keyword ‘val’ a variable is implicitly treated as immutable meaning the compiler will only define a getter and will generate an error if an attempt is made to reassign. Declaring using ‘var’ means the variable is mutable thus a getter and setter will be generated.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> ComplexObject <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> fieldA<span class=\"token operator\">:</span> String <span class=\"token operator\">=</span> <span class=\"token string\">\"Value 1\"</span>   <span class=\"token comment\">// Non-nullable immutable String (just a getter will be generated)</span>\n    <span class=\"token keyword\">var</span> fieldB<span class=\"token operator\">:</span> String <span class=\"token operator\">=</span> <span class=\"token string\">\"Value 2\"</span>   <span class=\"token comment\">// Non-nullable but mutable (will have getter and setter generated)</span>\n    <span class=\"token keyword\">var</span> fieldC<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span>              <span class=\"token comment\">// Nullable, will require null checks or safe call operator ( ?. )</span>\n    <span class=\"token keyword\">val</span> fieldD <span class=\"token operator\">=</span> <span class=\"token string\">\"Value 4\"</span>           <span class=\"token comment\">// Type will be inferred if omitted but value is initialized</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Boilerplate Reduction</h2>\n<p>Much like Groovy, Kotlin handles auto-generating much of the common logic in your programs. As previously discussed Getter and Setter methods are auto-generated but can be overridden with custom logic if desired. In addition, marking a class with the keyword ‘data’ will treat it as a Data Transfer Object and will auto-generate ‘equals’, ‘hashCode’, ‘copy’, and ‘toString’ methods.</p>\n<h2>Flexibility</h2>\n<p>Classes can overload any standard operator which can aid code brevity and readability. In cases where appropriate operators don’t exist an ‘infix’ function can be declared which enables it to be used without dot notation or parentheses, making it look and behave much like a custom operator.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// Use infix to declare an \"operator\" function to allow somewhat cleaner code</span>\n<span class=\"token comment\">// This also happens to be an extension function (see below)</span>\n<span class=\"token comment\">// In this case, perform a subtraction and return the absolute value of the result</span>\n<span class=\"token keyword\">infix</span> <span class=\"token keyword\">fun</span> Long<span class=\"token punctuation\">.</span><span class=\"token function\">absSubtract</span><span class=\"token punctuation\">(</span>input<span class=\"token operator\">:</span> Long<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Long <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">-</span> input<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token number\">1L</span> absSubtract <span class=\"token number\">5L</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">// prints positive 4</span></code></pre></div>\n<p>Extension functions can be added to any class at runtime which enables you to add behaviors to classes you use without forcing you to subclass them.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// Anywhere this function is imported all Duration objects will gain this function</span>\n<span class=\"token keyword\">fun</span> Duration<span class=\"token punctuation\">.</span><span class=\"token function\">prettyPrint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> String <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"<span class=\"token interpolation\"><span class=\"token delimiter variable\">${</span><span class=\"token function\">toHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token delimiter variable\">}</span></span>:<span class=\"token interpolation\"><span class=\"token delimiter variable\">${</span><span class=\"token function\">toMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">60</span><span class=\"token delimiter variable\">}</span></span>:<span class=\"token interpolation\"><span class=\"token delimiter variable\">${</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span>ChronoUnit<span class=\"token punctuation\">.</span>SECONDS<span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">60</span><span class=\"token delimiter variable\">}</span></span>\"</span>\n<span class=\"token punctuation\">}</span>\n\nDuration<span class=\"token punctuation\">.</span>ZERO<span class=\"token punctuation\">.</span><span class=\"token function\">prettyPrint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">// Outputs '0:0:0'</span></code></pre></div>\n<p>Finally, Kotlin has excellent support for delegating functions and properties to member variables or extended classes. This is an alternative to gaining behaviors through extension and is a really simple way to implement several popular design patterns with minimal code.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">interface</span> WakeUpProvider <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">wakeUp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token function\">AlarmClock</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> WakeUpProvider <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">wakeUp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Alarm Clock woke you up!\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Make WakeUpSystem delegate to 'provider' any 'WakeUpProvider' interface functions</span>\n<span class=\"token keyword\">class</span> <span class=\"token function\">WakeUpSystem</span><span class=\"token punctuation\">(</span>provider<span class=\"token operator\">:</span> WakeUpProvider<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> WakeUpProvider <span class=\"token keyword\">by</span> provider\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>args<span class=\"token operator\">:</span> Array<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> provider <span class=\"token operator\">=</span> <span class=\"token function\">AlarmClock</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">WakeUpSystem</span><span class=\"token punctuation\">(</span>provider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">wakeUp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// Prints 'Alarm Clock woke you up!'</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>The Kotlin Object</h2>\n<p>Object is a special type in Kotlin that is very different from Java’s Object base type. Object is a versatile construct that can be used much like ad-hoc objects in JavaScript, easily build a Singleton, or add static-like capabilities to your Kotlin classes.</p>\n<h3>Ad-hoc Objects</h3>\n<p>Object can be used to generate on-the-fly structures without going through the work of defining a class. When used as part of an expression like this the Object is evaluated as the line is executed which contrasts with other uses of Object that are initialized the first time they are referenced.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">var</span> adhoc <span class=\"token operator\">=</span> <span class=\"token keyword\">object</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> first <span class=\"token operator\">=</span> <span class=\"token string\">\"firstValue\"</span>\n    <span class=\"token keyword\">val</span> second <span class=\"token operator\">=</span> <span class=\"token string\">\"secondValue\"</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"<span class=\"token interpolation\"><span class=\"token delimiter variable\">${</span>adhoc<span class=\"token punctuation\">.</span>first<span class=\"token delimiter variable\">}</span></span>, <span class=\"token interpolation\"><span class=\"token delimiter variable\">${</span>adhoc<span class=\"token punctuation\">.</span>second<span class=\"token delimiter variable\">}</span></span>\"</span><span class=\"token punctuation\">)</span>    <span class=\"token comment\">// Prints \"firstValue, secondValue\"</span></code></pre></div>\n<h3>Singleton</h3>\n<p>If you need a Singleton you can simply write an Object declaration (contrasted with the Object expression used above) that will behave much like a class with static fields and methods in Java.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">object</span> MySingleton <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> aSingletonValue <span class=\"token operator\">=</span> <span class=\"token string\">\"ValueA\"</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">aSingletonFunction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Yay for Kotlin Objects!\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">..</span><span class=\"token punctuation\">.</span>\n<span class=\"token function\">println</span><span class=\"token punctuation\">(</span>MySingleton<span class=\"token punctuation\">.</span>aSingletonValue<span class=\"token punctuation\">)</span>       <span class=\"token comment\">// Prints \"ValueA\"</span>\n<span class=\"token function\">println</span><span class=\"token punctuation\">(</span>MySingleton<span class=\"token punctuation\">.</span><span class=\"token function\">aSingletonFunction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">// Prints \"Yay for Kotlin Objects!\"</span></code></pre></div>\n<h3>Companion</h3>\n<p>Objects can be used as Companions in Kotlin classes to add static-like properties and functions to the class. The Companion will be constructed only once and shared amongst all instances of the containing class.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> ClassWithCompanion <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">companion</span> <span class=\"token keyword\">object</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">fun</span> <span class=\"token function\">PrintAMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"I'm a function in the Companion!\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\nClassWithCompanion<span class=\"token punctuation\">.</span><span class=\"token function\">PrintAMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>    <span class=\"token comment\">// Note the 'static' access. Prints \"I'm a function in the Companion!\"</span></code></pre></div>\n<h2>Java Goodness</h2>\n<p>Coming from a Java background? Good news! All the familiar Java concepts and libraries are still available. Interfaces, abstract/inner classes, the Java standard library, generics, enums, etc all are present and for the most part behave in exactly the same way. On top of the basics all the latest features in Java such as Lambdas and Streams are available in Kotlin.\nA notable exception is the lack of ‘static’ variables and methods. Often ‘static’ was misused and ended up breaking many precepts of Object Oriented design. In Kotlin this has been supplanted by Object, Companions, and package-level declarations to encourage proper encapsulation and separation of concerns while still providing the same features.\nFor a more complete comparison of how Kotlin compares with Java I recommend <a href=\"https://kotlinlang.org/docs/reference/comparison-to-java.html\">this article</a>.</p>\n<h3>Fixes for Common Annoyances</h3>\n<p>Java’s been around long enough for everyone to find a few features they dislike. Kotlin attempts to fix a number of the most common complaints.</p>\n<h3>Automatic Casting</h3>\n<p>How many times have you written code like this in Java?</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\">Object unknownObjectType <span class=\"token operator\">=</span> <span class=\"token operator\">..</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>unknownObjectType instanceof String<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    String castString <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">)</span> unknownObjectType<span class=\"token punctuation\">;</span>    <span class=\"token comment\">// Have to cast in order to treat it like a String</span>\n    castString<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"abc\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Never fear, you will never have to write that in Kotlin! The Kotlin Compiler is smart enough to track the state of a variable as it executes which means it ‘knows’ everything various conditionals and other constructs tell it.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> unknownObjectType<span class=\"token operator\">:</span> Any <span class=\"token operator\">=</span> <span class=\"token operator\">..</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>unknownObjectType <span class=\"token keyword\">is</span> String<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    unknownObjectType<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"abc\"</span><span class=\"token punctuation\">)</span>    <span class=\"token comment\">// Compiler knows it's a String here so it is auto-cast</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Destructuring</h3>\n<p>Another common annoyance is that occasionally you need to call a function that returns an object but then have to immediately pull only a subset of fields out of that object. Kotlin supports ‘destructuring’ similar to ECMAScript 2015, and supports destructuring in loop expressions.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> complexObjectCollection<span class=\"token operator\">:</span> Collection\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span> <span class=\"token punctuation\">(</span>fieldA<span class=\"token punctuation\">,</span> fieldB<span class=\"token punctuation\">)</span> <span class=\"token keyword\">in</span> complexObjectCollection<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Variables fieldA and fieldB are accessible here and will be equal to fields</span>\n    <span class=\"token comment\">// named 'fieldA' and 'fieldB' from each item in the collection</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Generics</h3>\n<p>In the Java world generics are certainly a boon, but certain design decisions and limitations leave them with a number of significant gotchas. Most of these are related to the wildcard generic (?) which has been eliminated in Kotlin. Kotlin makes use of new keywords ‘in’ and ‘out’ to help further define generic bounds similar to the PECS (Producer-extend, Consumer-super) concept in Java without the same shortcomings.</p>\n<h3>Equality</h3>\n<p>Tired of having to remember when it’s safe to use == and doing null-checks before calling ‘.equals(..)’? Kotlin uses == as ‘structural equality’ and === as ‘referential equality’. Put another way, == is the same as calling ‘.equals(..)’ while guarding against null in Java whereas === maps to Java’s ==.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> stringA<span class=\"token operator\">:</span> String <span class=\"token operator\">=</span> <span class=\"token string\">\"New York\"</span>\n<span class=\"token keyword\">val</span> stringB<span class=\"token operator\">:</span> String <span class=\"token operator\">=</span> <span class=\"token string\">\"New \"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"York\"</span>\n<span class=\"token keyword\">val</span> stringC<span class=\"token operator\">:</span> String <span class=\"token operator\">=</span> stringA\n<span class=\"token function\">println</span><span class=\"token punctuation\">(</span>stringA <span class=\"token operator\">==</span> stringB<span class=\"token punctuation\">)</span>     <span class=\"token comment\">// True, contents are equal</span>\n<span class=\"token function\">println</span><span class=\"token punctuation\">(</span>stringA <span class=\"token operator\">===</span> stringB<span class=\"token punctuation\">)</span>    <span class=\"token comment\">// False, not the exact same object</span>\n<span class=\"token function\">println</span><span class=\"token punctuation\">(</span>stringA <span class=\"token operator\">===</span> stringC<span class=\"token punctuation\">)</span>    <span class=\"token comment\">// True, both reference the same object</span></code></pre></div>\n<h3>Inlining</h3>\n<p>Finally, for anyone with C or C++ experience I’m sure you’re well-aware that Java doesn’t allow you to request a method be <a href=\"https://en.wikipedia.org/wiki/Inline_expansion\">inlined</a>. Kotlin allows you to mark any function with the ‘inline’ keyword which makes the compiler insert that function’s code anywhere the function is called. At runtime this means fewer function calls at the expense of increasing the size of your compiled artifact. This isn’t necessary for most programs but can be a useful performance tweak especially when calling many lightweight functions in a large loop.</p>\n<h2>Exception Handling</h2>\n<p>Many people have mixed feelings on this but Kotlin does not have the concept of Checked Exceptions. If a method you’re calling potentially throws an exception you are not required to catch it. This reduces the number of try-catch blocks in your code, especially in situations where you know a normally-checked exception truly can’t be thrown. Other than this, exceptions basically work the same as in Java.</p>\n<h1>Environment</h1>\n<p>There are a number of options for developing in Kotlin. Excellent IDE support is integrated into IntelliJ IDEA and a plugin is available for Eclipse. Outside of an IDE environment you can compile and run Kotlin using Gradle, Maven, Ant, or standalone command line tools.</p>\n<p>Information and downloads for these are available at <a href=\"https://kotlinlang.org/\">kotlinlang.org</a>.</p>\n<h1>Testing</h1>\n<p>A new 100% Kotlin-based testing framework, Spek, is also under development. For those who have worked with Spock or Mocha it will be very familiar – tests are broken down into a series of nested “given-on-it” clauses to help semantically structure your tests and encourage targeted, readable tests.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> DurationExtensionSpecs<span class=\"token operator\">:</span> <span class=\"token function\">Spek</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">init</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">given</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"A zero duration\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">var</span> duration <span class=\"token operator\">=</span> Duration<span class=\"token punctuation\">.</span>ZERO\n            <span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"adding time values using method chaining\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                duration <span class=\"token operator\">=</span> duration<span class=\"token punctuation\">.</span><span class=\"token function\">plusHours</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">plusMinutes</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">plusSeconds</span><span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span>\n                <span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"should reflect the expected value\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token function\">shouldEqual</span><span class=\"token punctuation\">(</span>duration<span class=\"token punctuation\">.</span><span class=\"token function\">toHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token function\">shouldEqual</span><span class=\"token punctuation\">(</span>duration<span class=\"token punctuation\">.</span><span class=\"token function\">toMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">60</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token function\">shouldEqual</span><span class=\"token punctuation\">(</span>duration<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>ChronoUnit<span class=\"token punctuation\">.</span>SECONDS<span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">60</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Thankfully the ever-popular Hamcrest library has been ported over to Kotlin as <a href=\"https://github.com/npryce/hamkrest\">HamKrest</a> which allows you to write very powerful tests the same way you would in JUnit.</p>\n<h1>Example</h1>\n<p>I’ve coded up a simple example of using Kotlin in a standalone program <a href=\"https://github.com/mike-plummer/KotlinCalendar\">out on GitHub</a>. This program demonstrates much of what I’ve discussed here, including many of Kotlin’s core features and Spek tests.</p>\n<h1>Conclusion</h1>\n<p>I hope I’ve shown you a few reasons to get excited about Kotlin and want to use it in your next project. Especially now that version 1.0 has dropped it’s never been a better time. Popular frameworks like Spring Boot are <a href=\"https://spring.io/blog/2016/02/15/developing-spring-boot-applications-with-kotlin\">adding support</a> which makes it downright easy to gain the power and expressiveness of Kotlin. If you have any questions leave a comment below. If you would like to see more detail on specific Kotlin features leave that below too; if there’s enough interest I will explore them in future posts. In the meantime, take a look at the <a href=\"https://github.com/mike-plummer/KotlinCalendar\">example code</a> and <a href=\"https://kotlinlang.org/docs/\">Kotlin docs</a>. Happy coding!</p>","frontmatter":{"title":"An Introduction to Kotlin","date":"February 23, 2016"}}},"pageContext":{"slug":"/2016-02-23-an-introduction-to-kotlin/"}}